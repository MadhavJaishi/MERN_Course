<!DOCTYPE html>
<head>
    <title>DOM</title>
</head>
<body>
    <div class="container">
        <!-- oninput="calSum() on both input tags" -->
        Enter first number: <input type="number" id="num1" placeholder="0"> <br></br>
        Enter second number: <input type="number" id="num2" placeholder="0"> <br></br>
        <button onclick="debouncer()">Calculate sum</button> <br>
        <p id="pTag"></p>
    </div>
</body>
<script>
    let timeout
    function debouncer() {
        clearTimeout(timeout)
        timeout = setTimeout(() => {
            calSum2()
        }, 100)

    }
    function calSum() {
        let num1 = document.getElementById("num1").value
        let num2 = document.getElementById("num2").value
        let sum = parseInt(num1) + parseInt(num2)
        if (isNaN(sum)) {
            document.getElementById("pTag").innerText = ""
            return 
        }
        document.getElementById("pTag").innerText = "The sum is " + sum
    }
    async function calSum2() {
        let a = document.getElementById("num1").value
        let b = document.getElementById("num2").value
        // const response = await fetch("https://sum-server.100xdevs.com/sum?a=" + a + "&b=" + b)
        const response = await fetch("http://localhost:3000/sum?a=" + a + "&b=" + b)
        const ans = await response.text()
        document.getElementById("pTag").innerText = "The sum is " + ans
    }
</script>
</html>